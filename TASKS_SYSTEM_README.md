# نظام إدارة المهام - التوثيق

## نظرة عامة

تم ربط صفحة المهام بنجاح مع الـ API الخلفي. النظام يدعم جميع العمليات المطلوبة لإدارة المهام بشكل كامل.

## المميزات المنجزة

### ✅ 1. إدارة المهام الأساسية
- **إنشاء مهام جديدة** - للادمن فقط
- **تعديل المهام** - للادمن فقط  
- **حذف المهام** - للادمن فقط
- **تغيير حالة المهام** - للموظف والادمن
- **عرض تفاصيل المهام** - للجميع

### ✅ 2. نظام الحالات
- `pending` - في الانتظار
- `in_progress` - قيد التنفيذ  
- `completed` - مكتملة
- `cancelled` - ملغية
- `overdue` - متأخرة (محسوبة تلقائياً)

### ✅ 3. نظام الأولويات
- `low` - منخفضة
- `medium` - متوسطة
- `high` - عالية
- `urgent` - عاجلة

### ✅ 4. الفلترة والبحث
- البحث في عنوان ووصف المهمة
- فلترة حسب الحالة
- فلترة حسب الأولوية
- الفرز حسب التاريخ/الموظف/الحالة/الأولوية

### ✅ 5. التعليقات والملفات
- إضافة تعليقات على المهام
- رفع ملفات للمهام
- عرض التعليقات والملفات
- تحميل الملفات

### ✅ 6. الإحصائيات
- إحصائيات شاملة للمهام (للادمن فقط)
- عرض عدد المهام حسب الحالة
- عرض المهام العاجلة والمتأخرة

### ✅ 7. واجهة المستخدم
- تصميم متجاوب
- دعم الوضع المظلم/الفاتح
- رسوم متحركة سلسة
- واجهة عربية كاملة

## الملفات المنجزة

### 1. Hooks
```
src/Hooks/tasks/
├── useTasks.js          # Hook شامل لجميع عمليات المهام
└── useEmployees.js      # Hook لجلب الموظفين
```

### 2. Components
```
src/components/tasks/
├── TaskDetailsModal.jsx # مودال تفاصيل المهمة مع التعليقات والملفات
└── TaskStats.jsx        # مكون إحصائيات المهام
```

### 3. Pages
```
src/pages/tasks/
└── TasksPage.jsx        # الصفحة الرئيسية للمهام (محدثة)
```

## كيفية الاستخدام

### للادمن:
1. **إنشاء مهمة جديدة**: اضغط على "إضافة مهمة جديدة"
2. **تعديل المهام**: اضغط على القائمة المنسدلة في أي مهمة واختر "تعديل"
3. **حذف المهام**: اضغط على "حذف" من القائمة المنسدلة
4. **عرض التفاصيل**: اضغط على "عرض التفاصيل" لرؤية التعليقات والملفات
5. **الإحصائيات**: ستظهر تلقائياً أعلى الصفحة

### للموظف:
1. **رؤية مهامي**: ستظهر فقط المهام المكلف بها
2. **تغيير الحالة**: يمكن تغيير حالة المهام من القائمة المنسدلة
3. **إضافة تعليقات**: من خلال مودال التفاصيل
4. **رفع ملفات**: من خلال مودال التفاصيل

## API Endpoints المستخدمة

### المهام
- `GET /api/tasks` - جلب جميع المهام (للادمن)
- `GET /api/tasks/my-tasks` - جلب مهام الموظف الحالي
- `POST /api/tasks` - إنشاء مهمة جديدة
- `PUT /api/tasks/:id` - تحديث مهمة
- `DELETE /api/tasks/:id` - حذف مهمة
- `POST /api/tasks/:id/complete` - إكمال مهمة

### التعليقات
- `GET /api/tasks/:id/comments` - جلب تعليقات مهمة
- `POST /api/tasks/:id/comments` - إضافة تعليق

### الملفات
- `GET /api/tasks/:id/attachments` - جلب ملفات مهمة
- `POST /api/tasks/:id/attachments` - رفع ملف

### الإحصائيات
- `GET /api/tasks/stats/overview` - إحصائيات المهام

### الموظفين
- `GET /api/employees` - جلب قائمة الموظفين

## الأمان والصلاحيات

- **الادمن**: يمكنه رؤية وإدارة جميع المهام
- **الموظف**: يرى فقط مهامه المكلف بها
- جميع الطلبات تتطلب token مصادقة
- التحقق من الصلاحيات في الواجهة الأمامية والخلفية

## المميزات الإضافية

### 1. معالجة الأخطاء
- رسائل خطأ واضحة
- حالات التحميل
- معالجة الأخطاء الشبكية

### 2. تجربة المستخدم
- تصميم متجاوب
- رسوم متحركة سلسة
- واجهة بديهية
- دعم اللغة العربية

### 3. الأداء
- تحميل تدريجي للبيانات
- تحديث تلقائي بعد العمليات
- تحسين الاستعلامات

## الخطوات التالية (اختيارية)

1. **إشعارات فورية**: إضافة WebSocket للإشعارات المباشرة
2. **تقارير متقدمة**: إضافة تقارير تفصيلية
3. **متابعة الوقت**: إضافة نظام تتبع الوقت المستغرق
4. **قوالب المهام**: إضافة قوالب جاهزة للمهام المتكررة
5. **التكامل مع التقويم**: ربط المهام مع التقويم

## ملاحظات مهمة

- تأكد من أن الـ API يعمل على `http://localhost:8000/`
- تأكد من وجود token صالح في localStorage
- تأكد من أن المستخدم لديه الصلاحيات المناسبة
- جميع التواريخ تظهر بالتنسيق العربي

## الدعم

في حالة وجود أي مشاكل أو استفسارات، يرجى التواصل مع فريق التطوير. 